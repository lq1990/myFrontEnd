<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>18 drawImage canvas</title>
    <script src="./js/myRect.js"></script>
  </head>
  <body>
    <canvas id="cs"></canvas>

    <script>
      (function() {
        var canvas = document.getElementById('cs');
        var ctx = canvas.getContext('2d');
        canvas.width = 600;
        canvas.height = 600;
        canvas.style.border = '1px solid #666';

        var canvasHidden = document.createElement("canvas");
        canvasHidden.width = canvas.width;
        canvasHidden.height = canvas.height;
        var ctxHidden = canvasHidden.getContext("2d");

        var r = new myRect({
        x: 100,
        y: 100,
        w: 100,
        h: 100,
        opacity: .6,
        scaleX:1.5,
        fillStyle: "#44d39f",
        strokeStyle: "#f66",
        rotation: 100
      });
      r.render(ctxHidden);
        var r2 = new myRect({
        x: 400,
        y: 200,
        w: 100,
        h: 100,
        opacity: .6,
        scaleX:1.5,
        fillStyle: "#44d39f",
        strokeStyle: "#f66",
        rotation: 100
      });
      r2.render(ctxHidden);


      // 批量绘制。将最终状态会到ctx，给用户看最终的。也可提高显卡效率。
      ctx.drawImage(canvasHidden, 0, 0);
      
      })();
    </script>
  </body>
</html>
