<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>07 canvas image</title>
  </head>
  <body>
    <canvas id="cs"></canvas>

    <script>
      var canvas = document.getElementById('cs');
      var ctx = canvas.getContext('2d');
      canvas.width = 600;
      canvas.height = 600;
      canvas.style.border = '1px solid #666';

      // 1. 创建img 的 dom
      /*
      var img = new Image();
      img.src = './img/dog1.jpg'; // 只要设置了src属性，当前对象立即去加载图。
      img.onload = function() {
        // 图片加载完成后，将图绘制到canvas上
        // for (var i = 0; i < 10; i++) {
        //   ctx.drawImage(img, 100+i*10, 100+i*10);
        // }
        //   ctx.drawImage(img, 100, 100, 40,200);

        ctx.drawImage(img, 0, 0);
        // 保持图片宽高比
        var ow = img.width;
        var oh = img.height;
        var w = 200;
        var h = (w / ow) * oh;
        ctx.drawImage(img, 300, 300, w, h);
      };
      */
      var img2 = new Image();
      img2.src = './img/man.jpg';
      img2.onload = function() {
        var sx = 303/4;
        var sy = 489/4;
        ctx.drawImage(img2, sx, sy,sx,sy, 200,200,sx,sy);
      };
    </script>
  </body>
</html>
